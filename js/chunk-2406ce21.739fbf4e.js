(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2406ce21"],{"022e":function(t,e){t.exports={name:"picture",data:{width:"16",height:"14",viewBox:"0 0 16 14",data:'<g transform="translate(0 -1)" _fill="#595959" fill-rule="nonzero"><path pid="0" d="M15.5 1.5v13H.5v-13h15zm-1 1h-13v11h13v-11z"/><circle pid="1" cx="12" cy="5.5" r="1"/><path pid="2" d="M1.493 9.746c.995-1.733 2.212-2.561 3.684-2.553.902.005 1.661.436 3.075 1.586.837.682.995.806 1.37 1.059.71.48 1.34.738 1.99.751 1.573.033 2.842-.65 3.757-2.016l-.831-.556c-.728 1.086-1.679 1.598-2.905 1.573-.424-.01-.885-.198-1.452-.58-.339-.23-.49-.349-1.298-1.006-1.59-1.293-2.49-1.804-3.7-1.811-1.865-.01-3.395 1.031-4.557 3.055l.867.498z"/></g>'}}},"0f1b":function(t,e,i){},"1a31":function(t,e,i){},"1f36":function(t,e,i){(function(e){(function(e,i){t.exports=i()})(0,(function(){"use strict";"undefined"!==typeof window?window:"undefined"!==typeof e||"undefined"!==typeof self&&self;function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}var i=t((function(t,e){(function(e,i){t.exports=i()})(0,(function(){function t(t,e,i,n,a,o){if(!/^[1-8]$/.test(e))throw new Error("orientation should be [1-8]");null==i&&(i=0),null==n&&(n=0),null==a&&(a=t.width),null==o&&(o=t.height);var r=document.createElement("canvas"),s=r.getContext("2d");switch(r.width=a,r.height=o,s.save(),+e){case 1:break;case 2:s.translate(a,0),s.scale(-1,1);break;case 3:s.translate(a,o),s.rotate(1*Math.PI);break;case 4:s.translate(0,o),s.scale(1,-1);break;case 5:r.width=o,r.height=a,s.rotate(.5*Math.PI),s.scale(1,-1);break;case 6:r.width=o,r.height=a,s.rotate(.5*Math.PI),s.translate(0,-o);break;case 7:r.width=o,r.height=a,s.rotate(1.5*Math.PI),s.translate(-a,o),s.scale(1,-1);break;case 8:r.width=o,r.height=a,s.translate(0,a),s.rotate(1.5*Math.PI);break}return s.drawImage(t,i,n,a,o),s.restore(),r}return{drawImage:t}}))})),n={onePointCoord:function(t,e){var i=e.canvas,n=e.quality,a=i.getBoundingClientRect(),o=t.clientX,r=t.clientY;return{x:(o-a.left)*n,y:(r-a.top)*n}},getPointerCoords:function(t,e){var i=void 0;return i=t.touches&&t.touches[0]?t.touches[0]:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0]:t,this.onePointCoord(i,e)},getPinchDistance:function(t,e){var i=t.touches[0],n=t.touches[1],a=this.onePointCoord(i,e),o=this.onePointCoord(n,e);return Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2))},getPinchCenterCoord:function(t,e){var i=t.touches[0],n=t.touches[1],a=this.onePointCoord(i,e),o=this.onePointCoord(n,e);return{x:(a.x+o.x)/2,y:(a.y+o.y)/2}},imageLoaded:function(t){return t.complete&&0!==t.naturalWidth},rAFPolyfill:function(){if("undefined"!=typeof document&&"undefined"!=typeof window){for(var t=0,e=["webkit","moz"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var i=(new Date).getTime(),n=Math.max(0,16.7-(i-t)),a=window.setTimeout((function(){var t=i+n;e(t)}),n);return t=i+n,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}}},toBlobPolyfill:function(){var t,e,i;"undefined"!=typeof document&&"undefined"!=typeof window&&HTMLCanvasElement&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(n,a,o){t=atob(this.toDataURL(a,o).split(",")[1]),e=t.length,i=new Uint8Array(e);for(var r=0;r<e;r++)i[r]=t.charCodeAt(r);n(new Blob([i],{type:a||"image/png"}))}}))},eventHasFile:function(t){var e=t.dataTransfer||t.originalEvent.dataTransfer;if(e.types)for(var i=0,n=e.types.length;i<n;i++)if("Files"==e.types[i])return!0;return!1},getFileOrientation:function(t){var e=new DataView(t);if(65496!=e.getUint16(0,!1))return-2;var i=e.byteLength,n=2;while(n<i){var a=e.getUint16(n,!1);if(n+=2,65505==a){if(1165519206!=e.getUint32(n+=2,!1))return-1;var o=18761==e.getUint16(n+=6,!1);n+=e.getUint32(n+4,o);var r=e.getUint16(n,o);n+=2;for(var s=0;s<r;s++)if(274==e.getUint16(n+12*s,o))return e.getUint16(n+12*s+8,o)}else{if(65280!=(65280&a))break;n+=e.getUint16(n,!1)}}return-1},parseDataUrl:function(t){var e=/^data:([^;]+)?(;base64)?,(.*)/gim;return e.exec(t)[3]},base64ToArrayBuffer:function(t){for(var e=atob(t),i=e.length,n=new Uint8Array(i),a=0;a<i;a++)n[a]=e.charCodeAt(a);return n.buffer},getRotatedImage:function(t,e){var n=i.drawImage(t,e),a=new Image;return a.src=n.toDataURL(),a},flipX:function(t){return t%2==0?t-1:t+1},flipY:function(t){var e={1:4,4:1,2:3,3:2,5:8,8:5,6:7,7:6};return e[t]},rotate90:function(t){var e={1:6,2:7,3:8,4:5,5:2,6:3,7:4,8:1};return e[t]},numberValid:function(t){return"number"===typeof t&&!isNaN(t)}};Number.isInteger=Number.isInteger||function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t};var a=String;"undefined"!==typeof window&&window.Image&&(a=[String,Image]);var o={value:Object,width:{type:Number,default:200,validator:function(t){return t>0}},height:{type:Number,default:200,validator:function(t){return t>0}},placeholder:{type:String,default:"Choose an image"},placeholderColor:{default:"#606060"},placeholderFontSize:{type:Number,default:0,validator:function(t){return t>=0}},canvasColor:{default:"transparent"},quality:{type:Number,default:2,validator:function(t){return t>0}},zoomSpeed:{default:3,type:Number,validator:function(t){return t>0}},accept:String,fileSizeLimit:{type:Number,default:0,validator:function(t){return t>=0}},disabled:Boolean,disableDragAndDrop:Boolean,disableClickToChoose:Boolean,disableDragToMove:Boolean,disableScrollToZoom:Boolean,disablePinchToZoom:Boolean,disableRotation:Boolean,reverseScrollToZoom:Boolean,preventWhiteSpace:Boolean,showRemoveButton:{type:Boolean,default:!0},removeButtonColor:{type:String,default:"red"},removeButtonSize:{type:Number},initialImage:a,initialSize:{type:String,default:"cover",validator:function(t){return"cover"===t||"contain"===t||"natural"===t}},initialPosition:{type:String,default:"center",validator:function(t){var e=["center","top","bottom","left","right"];return t.split(" ").every((function(t){return e.indexOf(t)>=0}))||/^-?\d+% -?\d+%$/.test(t)}},inputAttrs:Object,showLoading:Boolean,loadingSize:{type:Number,default:20},loadingColor:{type:String,default:"#606060"},replaceDrop:Boolean,passive:Boolean,imageBorderRadius:{type:[Number,String],default:0},autoSizing:Boolean,videoEnabled:Boolean},r={INIT_EVENT:"init",FILE_CHOOSE_EVENT:"file-choose",FILE_SIZE_EXCEED_EVENT:"file-size-exceed",FILE_TYPE_MISMATCH_EVENT:"file-type-mismatch",NEW_IMAGE_EVENT:"new-image",NEW_IMAGE_DRAWN_EVENT:"new-image-drawn",IMAGE_REMOVE_EVENT:"image-remove",MOVE_EVENT:"move",ZOOM_EVENT:"zoom",DRAW_EVENT:"draw",INITIAL_IMAGE_LOADED_EVENT:"initial-image-loaded",LOADING_START_EVENT:"loading-start",LOADING_END_EVENT:"loading-end"},s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=1e-5,l=500,c=100,h=10,p=2/3,d=1,f=["imgData","img","imgSet","originalImage","naturalHeight","naturalWidth","orientation","scaleRatio"],m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"wrapper",class:"croppa-container "+(t.img?"croppa--has-target":"")+" "+(t.passive?"croppa--passive":"")+" "+(t.disabled?"croppa--disabled":"")+" "+(t.disableClickToChoose?"croppa--disabled-cc":"")+" "+(t.disableDragToMove&&t.disableScrollToZoom?"croppa--disabled-mz":"")+" "+(t.fileDraggedOver?"croppa--dropzone":""),on:{dragenter:function(e){return e.stopPropagation(),e.preventDefault(),t._handleDragEnter(e)},dragleave:function(e){return e.stopPropagation(),e.preventDefault(),t._handleDragLeave(e)},dragover:function(e){return e.stopPropagation(),e.preventDefault(),t._handleDragOver(e)},drop:function(e){return e.stopPropagation(),e.preventDefault(),t._handleDrop(e)}}},[i("input",t._b({ref:"fileInput",staticStyle:{height:"1px",width:"1px",overflow:"hidden","margin-left":"-99999px",position:"absolute"},attrs:{type:"file",accept:t.accept,disabled:t.disabled},on:{change:t._handleInputChange}},"input",t.inputAttrs,!1)),t._v(" "),i("div",{staticClass:"slots",staticStyle:{width:"0",height:"0",visibility:"hidden"}},[t._t("initial"),t._v(" "),t._t("placeholder")],2),t._v(" "),i("canvas",{ref:"canvas",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t._handleClick(e)},dblclick:function(e){return e.stopPropagation(),e.preventDefault(),t._handleDblClick(e)},touchstart:function(e){return e.stopPropagation(),t._handlePointerStart(e)},mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerStart(e)},pointerstart:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerStart(e)},touchend:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerEnd(e)},touchcancel:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerEnd(e)},mouseup:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerEnd(e)},pointerend:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerEnd(e)},pointercancel:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerEnd(e)},touchmove:function(e){return e.stopPropagation(),t._handlePointerMove(e)},mousemove:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerMove(e)},pointermove:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerMove(e)},pointerleave:function(e){return e.stopPropagation(),e.preventDefault(),t._handlePointerLeave(e)},DOMMouseScroll:function(e){return e.stopPropagation(),t._handleWheel(e)},wheel:function(e){return e.stopPropagation(),t._handleWheel(e)},mousewheel:function(e){return e.stopPropagation(),t._handleWheel(e)}}}),t._v(" "),t.showRemoveButton&&t.img&&!t.passive?i("svg",{staticClass:"icon icon-remove",style:"top: -"+t.height/40+"px; right: -"+t.width/40+"px",attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:t.removeButtonSize||t.width/10,height:t.removeButtonSize||t.width/10},on:{click:t.remove}},[i("path",{attrs:{d:"M511.921231 0C229.179077 0 0 229.257846 0 512 0 794.702769 229.179077 1024 511.921231 1024 794.781538 1024 1024 794.702769 1024 512 1024 229.257846 794.781538 0 511.921231 0ZM732.041846 650.633846 650.515692 732.081231C650.515692 732.081231 521.491692 593.683692 511.881846 593.683692 502.429538 593.683692 373.366154 732.081231 373.366154 732.081231L291.761231 650.633846C291.761231 650.633846 430.316308 523.500308 430.316308 512.196923 430.316308 500.696615 291.761231 373.523692 291.761231 373.523692L373.366154 291.918769C373.366154 291.918769 503.453538 430.395077 511.881846 430.395077 520.349538 430.395077 650.515692 291.918769 650.515692 291.918769L732.041846 373.523692C732.041846 373.523692 593.447385 502.547692 593.447385 512.196923 593.447385 521.412923 732.041846 650.633846 732.041846 650.633846Z",fill:t.removeButtonColor}})]):t._e(),t._v(" "),t.showLoading&&t.loading?i("div",{staticClass:"sk-fading-circle",style:t.loadingStyle},t._l(12,(function(e){return i("div",{key:e,class:"sk-circle"+e+" sk-circle"},[i("div",{staticClass:"sk-circle-indicator",style:{backgroundColor:t.loadingColor}})])}))):t._e(),t._v(" "),t._t("default")],2)},staticRenderFns:[],model:{prop:"value",event:r.INIT_EVENT},props:o,data:function(){return{canvas:null,ctx:null,originalImage:null,img:null,video:null,dragging:!1,lastMovingCoord:null,imgData:{width:0,height:0,startX:0,startY:0},fileDraggedOver:!1,tabStart:0,scrolling:!1,pinching:!1,rotating:!1,pinchDistance:0,supportTouch:!1,pointerMoved:!1,pointerStartCoord:null,naturalWidth:0,naturalHeight:0,scaleRatio:null,orientation:1,userMetadata:null,imageSet:!1,currentPointerCoord:null,currentIsInitial:!1,loading:!1,realWidth:0,realHeight:0,chosenFile:null,useAutoSizing:!1}},computed:{outputWidth:function(){var t=this.useAutoSizing?this.realWidth:this.width;return t*this.quality},outputHeight:function(){var t=this.useAutoSizing?this.realHeight:this.height;return t*this.quality},computedPlaceholderFontSize:function(){return this.placeholderFontSize*this.quality},aspectRatio:function(){return this.naturalWidth/this.naturalHeight},loadingStyle:function(){return{width:this.loadingSize+"px",height:this.loadingSize+"px",right:"15px",bottom:"10px"}}},mounted:function(){var t=this;this._initialize(),n.rAFPolyfill(),n.toBlobPolyfill();var e=this.supportDetection();e.basic||console.warn("Your browser does not support vue-croppa functionality."),this.passive&&this.$watch("value._data",(function(e){var i=!1;if(e){for(var n in e)if(f.indexOf(n)>=0){var a=e[n];a!==t[n]&&(t.$set(t,n,a),i=!0)}i&&(t.img?t.$nextTick((function(){t._draw()})):t.remove())}}),{deep:!0}),this.useAutoSizing=!!(this.autoSizing&&this.$refs.wrapper&&getComputedStyle),this.useAutoSizing&&this._autoSizingInit()},beforeDestroy:function(){this.useAutoSizing&&this._autoSizingRemove()},watch:{outputWidth:function(){this.onDimensionChange()},outputHeight:function(){this.onDimensionChange()},canvasColor:function(){this.img?this._draw():this._setPlaceholders()},imageBorderRadius:function(){this.img&&this._draw()},placeholder:function(){this.img||this._setPlaceholders()},placeholderColor:function(){this.img||this._setPlaceholders()},computedPlaceholderFontSize:function(){this.img||this._setPlaceholders()},preventWhiteSpace:function(t){t&&(this.imageSet=!1),this._placeImage()},scaleRatio:function(t,e){if(!this.passive&&this.img&&n.numberValid(t)){var i=1;n.numberValid(e)&&0!==e&&(i=t/e);var a=this.currentPointerCoord||{x:this.imgData.startX+this.imgData.width/2,y:this.imgData.startY+this.imgData.height/2};if(this.imgData.width=this.naturalWidth*t,this.imgData.height=this.naturalHeight*t,!this.userMetadata&&this.imageSet&&!this.rotating){var o=(i-1)*(a.x-this.imgData.startX),r=(i-1)*(a.y-this.imgData.startY);this.imgData.startX=this.imgData.startX-o,this.imgData.startY=this.imgData.startY-r}this.preventWhiteSpace&&(this._preventZoomingToWhiteSpace(),this._preventMovingToWhiteSpace())}},"imgData.width":function(t,e){n.numberValid(t)&&(this.scaleRatio=t/this.naturalWidth,this.hasImage()&&Math.abs(t-e)>1e-5*t&&(this.emitEvent(r.ZOOM_EVENT),this._draw()))},"imgData.height":function(t){n.numberValid(t)&&(this.scaleRatio=t/this.naturalHeight)},"imgData.startX":function(t){this.hasImage()&&this.$nextTick(this._draw)},"imgData.startY":function(t){this.hasImage()&&this.$nextTick(this._draw)},loading:function(t){this.passive||(t?this.emitEvent(r.LOADING_START_EVENT):this.emitEvent(r.LOADING_END_EVENT))},autoSizing:function(t){this.useAutoSizing=!!(this.autoSizing&&this.$refs.wrapper&&getComputedStyle),t?this._autoSizingInit():this._autoSizingRemove()}},methods:{emitEvent:function(){this.$emit.apply(this,arguments)},getCanvas:function(){return this.canvas},getContext:function(){return this.ctx},getChosenFile:function(){return this.chosenFile||this.$refs.fileInput.files[0]},move:function(t){if(t&&!this.passive){var e=this.imgData.startX,i=this.imgData.startY;this.imgData.startX+=t.x,this.imgData.startY+=t.y,this.preventWhiteSpace&&this._preventMovingToWhiteSpace(),this.imgData.startX===e&&this.imgData.startY===i||(this.emitEvent(r.MOVE_EVENT),this._draw())}},moveUpwards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move({x:0,y:-t})},moveDownwards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move({x:0,y:t})},moveLeftwards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move({x:-t,y:0})},moveRightwards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.move({x:t,y:0})},zoom:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!this.passive){var i=this.zoomSpeed*e,n=this.outputWidth*u*i,a=1;t?a=1+n:this.imgData.width>h&&(a=1-n),this.scaleRatio*=a}},zoomIn:function(){this.zoom(!0)},zoomOut:function(){this.zoom(!1)},rotate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.disableRotation||this.disabled||this.passive||(t=parseInt(t),(isNaN(t)||t>3||t<-3)&&(console.warn("Invalid argument for rotate() method. It should one of the integers from -3 to 3."),t=1),this._rotateByStep(t))},flipX:function(){this.disableRotation||this.disabled||this.passive||this._setOrientation(2)},flipY:function(){this.disableRotation||this.disabled||this.passive||this._setOrientation(4)},refresh:function(){this.$nextTick(this._initialize)},hasImage:function(){return!!this.imageSet},applyMetadata:function(t){if(t&&!this.passive){this.userMetadata=t;var e=t.orientation||this.orientation||1;this._setOrientation(e,!0)}},generateDataUrl:function(t,e){return this.hasImage()?this.canvas.toDataURL(t,e):""},generateBlob:function(t,e,i){this.hasImage()?this.canvas.toBlob(t,e,i):t(null)},promisedBlob:function(){for(var t=this,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];if("undefined"!=typeof Promise)return new Promise((function(e,n){try{t.generateBlob.apply(t,[function(t){e(t)}].concat(i))}catch(a){n(a)}}));console.warn("No Promise support. Please add Promise polyfill if you want to use this method.")},getMetadata:function(){if(!this.hasImage())return{};var t=this.imgData,e=t.startX,i=t.startY;return{startX:e,startY:i,scale:this.scaleRatio,orientation:this.orientation}},supportDetection:function(){if("undefined"!==typeof window){var t=document.createElement("div");return{basic:window.requestAnimationFrame&&window.File&&window.FileReader&&window.FileList&&window.Blob,dnd:"ondragstart"in t&&"ondrop"in t}}},chooseFile:function(){this.passive||this.$refs.fileInput.click()},remove:function(){if(this.imageSet){this._setPlaceholders();var t=null!=this.img;this.originalImage=null,this.img=null,this.$refs.fileInput.value="",this.imgData={width:0,height:0,startX:0,startY:0},this.orientation=1,this.scaleRatio=null,this.userMetadata=null,this.imageSet=!1,this.chosenFile=null,this.video&&(this.video.pause(),this.video=null),t&&this.emitEvent(r.IMAGE_REMOVE_EVENT)}},addClipPlugin:function(t){if(this.clipPlugins||(this.clipPlugins=[]),!("function"===typeof t&&this.clipPlugins.indexOf(t)<0))throw Error("Clip plugins should be functions");this.clipPlugins.push(t)},emitNativeEvent:function(t){this.emitEvent(t.type,t)},_setContainerSize:function(){this.useAutoSizing&&(this.realWidth=+getComputedStyle(this.$refs.wrapper).width.slice(0,-2),this.realHeight=+getComputedStyle(this.$refs.wrapper).height.slice(0,-2))},_autoSizingInit:function(){this._setContainerSize(),window.addEventListener("resize",this._setContainerSize)},_autoSizingRemove:function(){this._setContainerSize(),window.removeEventListener("resize",this._setContainerSize)},_initialize:function(){this.canvas=this.$refs.canvas,this._setSize(),this.canvas.style.backgroundColor=this.canvasColor&&"default"!=this.canvasColor?"string"===typeof this.canvasColor?this.canvasColor:"":"transparent",this.ctx=this.canvas.getContext("2d"),this.ctx.imageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high",this.ctx.webkitImageSmoothingEnabled=!0,this.ctx.msImageSmoothingEnabled=!0,this.ctx.imageSmoothingEnabled=!0,this.originalImage=null,this.img=null,this.$refs.fileInput.value="",this.imageSet=!1,this.chosenFile=null,this._setInitial(),this.passive||this.emitEvent(r.INIT_EVENT,this)},_setSize:function(){this.canvas.width=this.outputWidth,this.canvas.height=this.outputHeight,this.canvas.style.width=(this.useAutoSizing?this.realWidth:this.width)+"px",this.canvas.style.height=(this.useAutoSizing?this.realHeight:this.height)+"px"},_rotateByStep:function(t){var e=1;switch(t){case 1:e=6;break;case 2:e=3;break;case 3:e=8;break;case-1:e=8;break;case-2:e=3;break;case-3:e=6;break}this._setOrientation(e)},_setImagePlaceholder:function(){var t=this,e=void 0;if(this.$slots.placeholder&&this.$slots.placeholder[0]){var i=this.$slots.placeholder[0],a=i.tag,o=i.elm;"img"==a&&o&&(e=o)}if(e){var r=function(){t.ctx.drawImage(e,0,0,t.outputWidth,t.outputHeight)};n.imageLoaded(e)?r():e.onload=r}},_setTextPlaceholder:function(){var t=this.ctx;t.textBaseline="middle",t.textAlign="center";var e=this.outputWidth*p/this.placeholder.length,i=this.computedPlaceholderFontSize&&0!=this.computedPlaceholderFontSize?this.computedPlaceholderFontSize:e;t.font=i+"px sans-serif",t.fillStyle=this.placeholderColor&&"default"!=this.placeholderColor?this.placeholderColor:"#606060",t.fillText(this.placeholder,this.outputWidth/2,this.outputHeight/2)},_setPlaceholders:function(){this._paintBackground(),this._setImagePlaceholder(),this._setTextPlaceholder()},_setInitial:function(){var t=this,e=void 0,i=void 0;if(this.$slots.initial&&this.$slots.initial[0]){var a=this.$slots.initial[0],o=a.tag,r=a.elm;"img"==o&&r&&(i=r)}this.initialImage&&"string"===typeof this.initialImage?(e=this.initialImage,i=new Image,/^data:/.test(e)||/^blob:/.test(e)||i.setAttribute("crossOrigin","anonymous"),i.src=e):"object"===s(this.initialImage)&&this.initialImage instanceof Image&&(i=this.initialImage),e||i?(this.currentIsInitial=!0,n.imageLoaded(i)?this._onload(i,+i.dataset["exifOrientation"],!0):(this.loading=!0,i.onload=function(){t._onload(i,+i.dataset["exifOrientation"],!0)},i.onerror=function(){t._setPlaceholders()})):this._setPlaceholders()},_onload:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments[2];this.imageSet&&this.remove(),this.originalImage=t,this.img=t,isNaN(e)&&(e=1),this._setOrientation(e),i&&this.emitEvent(r.INITIAL_IMAGE_LOADED_EVENT)},_onVideoLoad:function(t,e){var i=this;this.video=t;var n=document.createElement("canvas"),a=t.videoWidth,o=t.videoHeight;n.width=a,n.height=o;var r=n.getContext("2d");this.loading=!1;var s=function(t){if(i.video){r.drawImage(i.video,0,0,a,o);var e=new Image;e.src=n.toDataURL(),e.onload=function(){i.img=e,t?i._placeImage():i._draw()}}};s(!0);var u=function t(){i.$nextTick((function(){s(),!i.video||i.video.ended||i.video.paused||requestAnimationFrame(t)}))};this.video.addEventListener("play",(function(){requestAnimationFrame(u)}))},_handleClick:function(t){this.emitNativeEvent(t),this.hasImage()||this.disableClickToChoose||this.disabled||this.supportTouch||this.passive||this.chooseFile()},_handleDblClick:function(t){this.emitNativeEvent(t),this.videoEnabled&&this.video&&(this.video.paused||this.video.ended?this.video.play():this.video.pause())},_handleInputChange:function(){var t=this.$refs.fileInput;if(t.files.length&&!this.passive){var e=t.files[0];this._onNewFileIn(e)}},_onNewFileIn:function(t){var e=this;if(this.currentIsInitial=!1,this.loading=!0,this.emitEvent(r.FILE_CHOOSE_EVENT,t),this.chosenFile=t,!this._fileSizeIsValid(t))return this.loading=!1,this.emitEvent(r.FILE_SIZE_EXCEED_EVENT,t),!1;if(!this._fileTypeIsValid(t)){this.loading=!1,this.emitEvent(r.FILE_TYPE_MISMATCH_EVENT,t);t.type||t.name.toLowerCase().split(".").pop();return!1}if("undefined"!==typeof window&&"undefined"!==typeof window.FileReader){var i=new FileReader;i.onload=function(i){var a=i.target.result,o=n.parseDataUrl(a),s=/^video/.test(t.type);if(s){var u=document.createElement("video");u.src=a,a=null,u.readyState>=u.HAVE_FUTURE_DATA?e._onVideoLoad(u):u.addEventListener("canplay",(function(){console.log("can play event"),e._onVideoLoad(u)}),!1)}else{var l=1;try{l=n.getFileOrientation(n.base64ToArrayBuffer(o))}catch(h){}l<1&&(l=1);var c=new Image;c.src=a,a=null,c.onload=function(){e._onload(c,l),e.emitEvent(r.NEW_IMAGE_EVENT)}}},i.readAsDataURL(t)}},_fileSizeIsValid:function(t){return!!t&&(!this.fileSizeLimit||0==this.fileSizeLimit||t.size<this.fileSizeLimit)},_fileTypeIsValid:function(t){var e=this.videoEnabled&&/^video/.test(t.type)&&document.createElement("video").canPlayType(t.type)||/^image/.test(t.type);if(!e)return!1;if(!this.accept)return!0;for(var i=this.accept,n=i.replace(/\/.*$/,""),a=i.split(","),o=0,r=a.length;o<r;o++){var s=a[o],u=s.trim();if("."==u.charAt(0)){if(t.name.toLowerCase().split(".").pop()===u.toLowerCase().slice(1))return!0}else if(/\/\*$/.test(u)){var l=t.type.replace(/\/.*$/,"");if(l===n)return!0}else if(t.type===s)return!0}return!1},_placeImage:function(t){if(this.img){var e=this.imgData;if(this.naturalWidth=this.img.naturalWidth,this.naturalHeight=this.img.naturalHeight,e.startX=n.numberValid(e.startX)?e.startX:0,e.startY=n.numberValid(e.startY)?e.startY:0,this.preventWhiteSpace?this._aspectFill():this.imageSet?(this.imgData.width=this.naturalWidth*this.scaleRatio,this.imgData.height=this.naturalHeight*this.scaleRatio):"contain"==this.initialSize?this._aspectFit():"natural"==this.initialSize?this._naturalSize():this._aspectFill(),!this.imageSet&&(/top/.test(this.initialPosition)?e.startY=0:/bottom/.test(this.initialPosition)&&(e.startY=this.outputHeight-e.height),/left/.test(this.initialPosition)?e.startX=0:/right/.test(this.initialPosition)&&(e.startX=this.outputWidth-e.width),/^-?\d+% -?\d+%$/.test(this.initialPosition))){var i=/^(-?\d+)% (-?\d+)%$/.exec(this.initialPosition),a=+i[1]/100,o=+i[2]/100;e.startX=a*(this.outputWidth-e.width),e.startY=o*(this.outputHeight-e.height)}t&&this._applyMetadata(),t&&this.preventWhiteSpace?this.zoom(!1,0):(this.move({x:0,y:0}),this._draw())}},_aspectFill:function(){var t=this.naturalWidth,e=this.naturalHeight,i=this.outputWidth/this.outputHeight,n=void 0;this.aspectRatio>i?(n=e/this.outputHeight,this.imgData.width=t/n,this.imgData.height=this.outputHeight,this.imgData.startX=-(this.imgData.width-this.outputWidth)/2,this.imgData.startY=0):(n=t/this.outputWidth,this.imgData.height=e/n,this.imgData.width=this.outputWidth,this.imgData.startY=-(this.imgData.height-this.outputHeight)/2,this.imgData.startX=0)},_aspectFit:function(){var t=this.naturalWidth,e=this.naturalHeight,i=this.outputWidth/this.outputHeight,n=void 0;this.aspectRatio>i?(n=t/this.outputWidth,this.imgData.height=e/n,this.imgData.width=this.outputWidth,this.imgData.startY=-(this.imgData.height-this.outputHeight)/2,this.imgData.startX=0):(n=e/this.outputHeight,this.imgData.width=t/n,this.imgData.height=this.outputHeight,this.imgData.startX=-(this.imgData.width-this.outputWidth)/2,this.imgData.startY=0)},_naturalSize:function(){var t=this.naturalWidth,e=this.naturalHeight;this.imgData.width=t,this.imgData.height=e,this.imgData.startX=-(this.imgData.width-this.outputWidth)/2,this.imgData.startY=-(this.imgData.height-this.outputHeight)/2},_handlePointerStart:function(t){if(this.emitNativeEvent(t),!this.passive){this.supportTouch=!0,this.pointerMoved=!1;var e=n.getPointerCoords(t,this);if(this.pointerStartCoord=e,!this.disabled)if(this.hasImage()||this.disableClickToChoose){if(!(t.which&&t.which>1)){if(!t.touches||1===t.touches.length){this.dragging=!0,this.pinching=!1;var i=n.getPointerCoords(t,this);this.lastMovingCoord=i}t.touches&&2===t.touches.length&&!this.disablePinchToZoom&&(this.dragging=!1,this.pinching=!0,this.pinchDistance=n.getPinchDistance(t,this));for(var a=["mouseup","touchend","touchcancel","pointerend","pointercancel"],o=0,r=a.length;o<r;o++){var s=a[o];document.addEventListener(s,this._handlePointerEnd)}}}else this.tabStart=(new Date).valueOf()}},_handlePointerEnd:function(t){if(this.emitNativeEvent(t),!this.passive){var e=0;if(this.pointerStartCoord){var i=n.getPointerCoords(t,this);e=Math.sqrt(Math.pow(i.x-this.pointerStartCoord.x,2)+Math.pow(i.y-this.pointerStartCoord.y,2))||0}if(!this.disabled){if(!this.hasImage()&&!this.disableClickToChoose){var a=(new Date).valueOf();return e<c&&a-this.tabStart<l&&this.supportTouch&&this.chooseFile(),void(this.tabStart=0)}this.dragging=!1,this.pinching=!1,this.pinchDistance=0,this.lastMovingCoord=null,this.pointerMoved=!1,this.pointerStartCoord=null}}},_handlePointerMove:function(t){if(this.emitNativeEvent(t),!this.passive&&(this.pointerMoved=!0,this.hasImage())){var e=n.getPointerCoords(t,this);if(this.currentPointerCoord=e,!this.disabled&&!this.disableDragToMove){if(t.preventDefault(),!t.touches||1===t.touches.length){if(!this.dragging)return;this.lastMovingCoord&&this.move({x:e.x-this.lastMovingCoord.x,y:e.y-this.lastMovingCoord.y}),this.lastMovingCoord=e}if(t.touches&&2===t.touches.length&&!this.disablePinchToZoom){if(!this.pinching)return;var i=n.getPinchDistance(t,this),a=i-this.pinchDistance;this.zoom(a>0,d),this.pinchDistance=i}}}},_handlePointerLeave:function(t){this.emitNativeEvent(t),this.passive||(this.currentPointerCoord=null)},_handleWheel:function(t){var e=this;this.emitNativeEvent(t),this.passive||this.disabled||this.disableScrollToZoom||!this.hasImage()||(t.preventDefault(),this.scrolling=!0,t.wheelDelta<0||t.deltaY>0||t.detail>0?this.zoom(this.reverseScrollToZoom):(t.wheelDelta>0||t.deltaY<0||t.detail<0)&&this.zoom(!this.reverseScrollToZoom),this.$nextTick((function(){e.scrolling=!1})))},_handleDragEnter:function(t){this.emitNativeEvent(t),this.passive||this.disabled||this.disableDragAndDrop||!n.eventHasFile(t)||this.hasImage()&&!this.replaceDrop||(this.fileDraggedOver=!0)},_handleDragLeave:function(t){this.emitNativeEvent(t),this.passive||this.fileDraggedOver&&n.eventHasFile(t)&&(this.fileDraggedOver=!1)},_handleDragOver:function(t){this.emitNativeEvent(t)},_handleDrop:function(t){if(this.emitNativeEvent(t),!this.passive&&this.fileDraggedOver&&n.eventHasFile(t)&&(!this.hasImage()||this.replaceDrop)){this.fileDraggedOver=!1;var e=void 0,i=t.dataTransfer;if(i){if(i.items)for(var a=0,o=i.items.length;a<o;a++){var r=i.items[a];if("file"==r.kind){e=r.getAsFile();break}}else e=i.files[0];e&&this._onNewFileIn(e)}}},_preventMovingToWhiteSpace:function(){this.imgData.startX>0&&(this.imgData.startX=0),this.imgData.startY>0&&(this.imgData.startY=0),this.outputWidth-this.imgData.startX>this.imgData.width&&(this.imgData.startX=-(this.imgData.width-this.outputWidth)),this.outputHeight-this.imgData.startY>this.imgData.height&&(this.imgData.startY=-(this.imgData.height-this.outputHeight))},_preventZoomingToWhiteSpace:function(){this.imgData.width<this.outputWidth&&(this.scaleRatio=this.outputWidth/this.naturalWidth),this.imgData.height<this.outputHeight&&(this.scaleRatio=this.outputHeight/this.naturalHeight)},_setOrientation:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,i=arguments[1],a=i;if(e>1||a){if(!this.img)return;this.rotating=!0;var o=n.getRotatedImage(a?this.originalImage:this.img,e);o.onload=function(){t.img=o,t._placeImage(i)}}else this._placeImage(i);this.orientation=2==e?n.flipX(this.orientation):4==e?n.flipY(this.orientation):6==e?n.rotate90(this.orientation):3==e?n.rotate90(n.rotate90(this.orientation)):8==e?n.rotate90(n.rotate90(n.rotate90(this.orientation))):e,a&&(this.orientation=e)},_paintBackground:function(){var t=this.canvasColor&&"default"!=this.canvasColor?this.canvasColor:"transparent";this.ctx.fillStyle=t,this.ctx.clearRect(0,0,this.outputWidth,this.outputHeight),this.ctx.fillRect(0,0,this.outputWidth,this.outputHeight)},_draw:function(){var t=this;this.$nextTick((function(){"undefined"!==typeof window&&window.requestAnimationFrame?requestAnimationFrame(t._drawFrame):t._drawFrame()}))},_drawFrame:function(){if(this.img){this.loading=!1;var t=this.ctx,e=this.imgData,i=e.startX,n=e.startY,a=e.width,o=e.height;this._paintBackground(),t.drawImage(this.img,i,n,a,o),this.preventWhiteSpace&&this._clip(this._createContainerClipPath),this.emitEvent(r.DRAW_EVENT,t),this.imageSet||(this.imageSet=!0,this.emitEvent(r.NEW_IMAGE_DRAWN_EVENT)),this.rotating=!1}},_clipPathFactory:function(t,e,i,n){var a=this.ctx,o="number"===typeof this.imageBorderRadius?this.imageBorderRadius:isNaN(Number(this.imageBorderRadius))?0:Number(this.imageBorderRadius);a.beginPath(),a.moveTo(t+o,e),a.lineTo(t+i-o,e),a.quadraticCurveTo(t+i,e,t+i,e+o),a.lineTo(t+i,e+n-o),a.quadraticCurveTo(t+i,e+n,t+i-o,e+n),a.lineTo(t+o,e+n),a.quadraticCurveTo(t,e+n,t,e+n-o),a.lineTo(t,e+o),a.quadraticCurveTo(t,e,t+o,e),a.closePath()},_createContainerClipPath:function(){var t=this;this._clipPathFactory(0,0,this.outputWidth,this.outputHeight),this.clipPlugins&&this.clipPlugins.length&&this.clipPlugins.forEach((function(e){e(t.ctx,0,0,t.outputWidth,t.outputHeight)}))},_clip:function(t){var e=this.ctx;e.save(),e.fillStyle="#fff",e.globalCompositeOperation="destination-in",t(),e.fill(),e.restore()},_applyMetadata:function(){var t=this;if(this.userMetadata){var e=this.userMetadata,i=e.startX,a=e.startY,o=e.scale;n.numberValid(i)&&(this.imgData.startX=i),n.numberValid(a)&&(this.imgData.startY=a),n.numberValid(o)&&(this.scaleRatio=o),this.$nextTick((function(){t.userMetadata=null}))}},onDimensionChange:function(){this.img?(this.preventWhiteSpace&&(this.imageSet=!1),this._setSize(),this._placeImage()):this._initialize()}}},g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;function y(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function w(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var n=Object.getOwnPropertyNames(e).map((function(t){return e[t]}));if("0123456789"!==n.join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(t){a[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(o){return!1}}var _=w()?Object.assign:function(t,e){for(var i,n,a=y(t),o=1;o<arguments.length;o++){for(var r in i=Object(arguments[o]),i)v.call(i,r)&&(a[r]=i[r]);if(g){n=g(i);for(var s=0;s<n.length;s++)b.call(i,n[s])&&(a[n[s]]=i[n[s]])}}return a},C={componentName:"croppa"},S={install:function(t,e){e=_({},C,e);var i=Number(t.version.split(".")[0]);if(i<2)throw new Error("vue-croppa supports vue version 2.0 and above. You are using Vue@"+i+". Please upgrade to the latest version of Vue.");var n=e.componentName||"croppa";t.component(n,m)},component:m};return S}))}).call(this,i("7d15"))},"294e":function(t,e){t.exports={name:"search",data:{width:"16",height:"16",viewBox:"0 0 16 16",data:'<g _fill="#595959" fill-rule="nonzero"><path pid="0" d="M7 13.5a6.5 6.5 0 100-13 6.5 6.5 0 000 13zm0-1a5.5 5.5 0 110-11 5.5 5.5 0 010 11z"/><path pid="1" d="M10.837 11.857l3.73 3.68.703-.712-3.73-3.68z"/></g>'}}},"3ebb":function(t,e,i){"use strict";var n=i("6e37"),a=i.n(n);a.a},"48c4":function(t,e,i){},"4c09":function(t,e,i){"use strict";var n=i("0f1b"),a=i.n(n);a.a},"68d7":function(t,e,i){},"6aef":function(t,e,i){"use strict";i.r(e);var n=i("56d4"),a=i.n(n),o=i("0f9e"),r=i("7c9b"),s=i("fc36"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),i("div",{staticClass:"page-section"},[i("main",[t._v("点击上传")]),i("div",{staticClass:"demo-wrap"},[i("div",{staticClass:"demo-item"},[i("yz-upload",{attrs:{limit:3,"max-size":"500KB","tips-show-filename":"",action:t.qiniuUpHost,data:t.currentUploadData,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess,multiple:""},model:{value:t.upload1,callback:function(e){t.upload1=e},expression:"upload1"}},[i("template",{slot:"tip"},[t._v("只能上传 jpg/png 文件，且不能超过 500KB")])],2)],1)])]),i("div",{staticClass:"page-section"},[i("main",[t._v("拖拽上传")]),i("div",{staticClass:"demo-wrap"},[i("div",{staticClass:"demo-item"},[i("yz-upload",{attrs:{limit:3,"max-size":"1M",action:t.qiniuUpHost,data:t.currentUploadData,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess,multiple:"",drag:""},model:{value:t.upload1,callback:function(e){t.upload1=e},expression:"upload1"}},[i("template",{slot:"tip"},[t._v("只能上传 jpg/png 文件，且不能超过 1M")])],2)],1)])]),i("div",{staticClass:"page-section"},[i("main",[t._v("上传图片")]),i("div",{staticClass:"demo-wrap"},[i("div",{staticClass:"demo-item"},[i("sub",[t._v("单个图片")]),i("yz-upload",{attrs:{type:"image","accept-type":["jpg","jpeg","png"],action:t.qiniuUpHost,data:t.currentUploadData,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess},model:{value:t.imageUrls,callback:function(e){t.imageUrls=e},expression:"imageUrls"}})],1),i("div",{staticClass:"demo-item"},[i("sub",[t._v("多个图片")]),i("yz-upload",{attrs:{type:"image","accept-type":["jpg","jpeg","png"],limit:4,action:t.qiniuUpHost,data:t.currentUploadData,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess,multiple:""},model:{value:t.imageUrls,callback:function(e){t.imageUrls=e},expression:"imageUrls"}})],1),i("div",{staticClass:"demo-item"},[i("sub",[t._v("图片名称")]),i("yz-upload",{attrs:{type:"image","accept-type":["jpg","jpeg","png"],limit:4,"is-simple-value":!1,action:t.qiniuUpHost,data:t.currentUploadData,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess,multiple:""},model:{value:t.hasNameImageUrls,callback:function(e){t.hasNameImageUrls=e},expression:"hasNameImageUrls"}})],1)])]),i("div",{staticClass:"page-section"},[i("main",[t._v("列表拖拽排序")]),i("div",{staticClass:"demo-wrap"},[i("div",{staticClass:"demo-item"},[i("sub",[t._v("正常状态")]),i("yz-upload",{attrs:{type:"image","accept-type":["jpg","jpeg","png"],limit:4,action:t.qiniuUpHost,data:t.currentUploadData,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess,multiple:"",sortable:""},model:{value:t.imageUrls,callback:function(e){t.imageUrls=e},expression:"imageUrls"}})],1),i("div",{staticClass:"demo-item"},[i("sub",[t._v("禁用状态")]),i("yz-upload",{attrs:{type:"image","accept-type":["jpg","jpeg","png"],limit:4,action:t.qiniuUpHost,data:t.currentUploadData,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess,multiple:"",disabled:"",sortable:""},model:{value:t.imageUrls,callback:function(e){t.imageUrls=e},expression:"imageUrls"}})],1)])]),i("div",{staticClass:"page-section"},[i("main",[t._v("自定义内容展示")]),i("div",{staticClass:"demo-wrap"},[i("div",{staticClass:"demo-item"},[i("sub",[t._v("单张图片")]),i("custom-upload",{attrs:{type:"image","accept-type":["jpg","jpeg","png"],action:t.qiniuUpHost,data:t.currentUploadData,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess},model:{value:t.imageUrls,callback:function(e){t.imageUrls=e},expression:"imageUrls"}})],1),i("div",{staticClass:"demo-item"},[i("sub",[t._v("多个图片")]),i("custom-upload",{attrs:{type:"image","accept-type":["jpg","jpeg","png"],limit:10,action:t.qiniuUpHost,data:t.currentUploadData,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess,multiple:""},model:{value:t.imageUrls,callback:function(e){t.imageUrls=e},expression:"imageUrls"}})],1)])]),i("div",{staticClass:"page-section"},[i("main",[t._v("裁剪图片")]),i("div",{staticClass:"demo-wrap"},[i("div",{staticClass:"demo-item"},[i("sub",[t._v("默认裁剪（TODO）")]),i("yz-upload",{attrs:{type:"image","accept-type":["jpg","jpeg","png"],limit:1,action:t.qiniuUpHost,data:t.currentUploadData,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess,crop:""}})],1),i("div",{staticClass:"demo-item"},[i("sub",[t._v("自定义裁剪")]),i("yz-upload",{attrs:{type:"image","accept-type":["jpg","jpeg","png"],limit:1,action:t.qiniuUpHost,data:t.currentUploadData,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess,"on-crop":t.onCustomCrop,crop:""}}),i("custom-image-crop",{ref:"customImageCrop",attrs:{"crop-size":"400*400"}})],1)])]),i("div",{staticClass:"page-section"},[i("main",[t._v("图片大小压缩")]),i("div",{staticClass:"demo-wrap"},[i("div",{staticClass:"demo-item"},[i("sub",[t._v("默认启用压缩(阀值 10M)")]),i("yz-upload",{attrs:{type:"image",action:t.qiniuUpHost,data:t.currentUploadData,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess},model:{value:t.compressionImageUrl,callback:function(e){t.compressionImageUrl=e},expression:"compressionImageUrl"}}),i("sub",[t._v("最终上传图片")]),i("img",{attrs:{src:t.compressionImageUrl[0]}})],1),i("div",{staticClass:"demo-item"},[i("sub",[t._v("关闭压缩")]),i("yz-upload",{attrs:{type:"image",compression:0,action:t.qiniuUpHost,data:t.currentUploadData,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess},model:{value:t.unCompressionImageUrl,callback:function(e){t.unCompressionImageUrl=e},expression:"unCompressionImageUrl"}}),i("sub",[t._v("最终上传图片")]),i("img",{attrs:{src:t.unCompressionImageUrl[0]}})],1)])]),i("div",{staticClass:"page-section"},[i("main",[t._v("自定义操作区")]),i("div",{staticClass:"demo-wrap"},[i("div",{staticClass:"demo-item"},[i("sub",[t._v("默认操作区")]),i("yz-upload",{attrs:{type:"image",action:t.qiniuUpHost,data:t.currentUploadData,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess},model:{value:t.actionDemoUrl,callback:function(e){t.actionDemoUrl=e},expression:"actionDemoUrl"}})],1),i("div",{staticClass:"demo-item"},[i("sub",[t._v("自定义操作区")]),i("yz-upload",{attrs:{type:"image","item-actions":t.customActions,action:t.qiniuUpHost,data:t.currentUploadData,"before-upload":t.beforeUpload,"on-success":t.onUploadSuccess},model:{value:t.actionDemoUrl,callback:function(e){t.actionDemoUrl=e},expression:"actionDemoUrl"}})],1)])]),t._m(1)])},l=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-header"},[i("h1",[t._v("Upload")]),i("h2",[t._v("用于上传文件")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-section"},[i("main",[t._v("其他类型上传")]),i("div",{staticClass:"demo-wrap"},[i("div",{staticClass:"demo-item"},[i("sub",[t._v("上传视频")]),t._v(" TODO：暂无 ")])])])}],c=(i("3ebb"),i("2be6")),h={},p=Object(c["a"])(h,u,l,!1,null,"6124d501",null),d=p.exports,f=i("1abd"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("yz-upload",t._g(t._b({ref:"upload",class:{"custom-upload":!0,"custom-upload--has-list":t.$attrs.value.length>0},scopedSlots:t._u([{key:"file",fn:function(e){var i=e.file;return n("custom-file-item",{attrs:{file:i},on:{preview:t.handlePreview,remove:t.handleRemove}})}}])},"yz-upload",t.$attrs,!1),t.$listeners),[n("icon",{staticClass:"trgger-icon",attrs:{data:i("022e"),width:"16",height:"16"}})],1)},g=[],v=(i("f800"),{}),b=Object(c["a"])(v,m,g,!1,null,"3b15f055",null),y=b.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"custom-file-item",on:{click:function(t){t.stopPropagation()}}},[i("img",{staticClass:"custom-file-item__image",attrs:{src:t.file.url},on:{click:function(e){return t.$emit("preview",t.file)}}}),i("span",{staticClass:"custom-file-item__remove-btn",on:{click:function(e){return e.stopPropagation(),t.$emit("remove",t.file)}}},[i("i")])])},_=[],C=(i("9f4c"),{}),S=Object(c["a"])(C,w,_,!1,null,"49480624",null),D=S.exports;function E(t){return E="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function I(t,e,i){return e&&O(t.prototype,e),i&&O(t,i),t}function x(t,e){return!e||"object"!==E(e)&&"function"!==typeof e?U(t):e}function U(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}function T(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}function k(t,e){return k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},k(t,e)}var j=function(t){function e(){return P(this,e),x(this,z(e).apply(this,arguments))}return T(e,t),I(e,[{key:"created",value:function(){}}]),e}(r["a"]);o["a"]([Object(s["c"])({required:!0,type:Object})],j.prototype,"file",void 0),o["a"]([Object(s["c"])({default:"image",type:String})],j.prototype,"type",void 0),j=o["a"]([Object(s["a"])({name:"CustomFileItem",mixins:[D]})],j);var N=j,M=N;function F(t){return F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function W(t,e,i){return e&&H(t.prototype,e),i&&H(t,i),t}function R(t,e){return!e||"object"!==F(e)&&"function"!==typeof e?q(t):e}function q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}function V(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}function L(t,e){return L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},L(t,e)}var $=function(t){function e(){return A(this,e),R(this,B(e).apply(this,arguments))}return V(e,t),W(e,[{key:"created",value:function(){}},{key:"handleRemove",value:function(t){this.$refs.upload.removeFile(t)}},{key:"handlePreview",value:function(t){this.$refs.upload.preview(t)}}]),e}(r["a"]);$=o["a"]([Object(s["a"])({name:"CustomUpload",mixins:[y],components:{CustomFileItem:M}})],$);var Y=$,X=Y,Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"自定义裁剪",visible:t.show,width:t.width+40+"px"},on:{"update:visible":function(e){t.show=e},close:t.handleClose}},[i("div",{staticClass:"custom-image-crop"},[t.isInit?i("mobile-croppa",{ref:"croppa",attrs:{src:t.src,width:t.width,height:t.height,"crop-size":t.cropSize,quality:t.quality,round:""}}):t._e()],1),i("template",{slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("裁剪")])],1)],2)},G=[],K=(i("4c09"),{}),Q=Object(c["a"])(K,Z,G,!1,null,"c40d06a8",null),J=Q.exports,tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mobile-croppa"},[i("vue-croppa",t._b({ref:"topCroppa",staticClass:"mobile-croppa__top",attrs:{"initial-image":t.src,"show-remove-button":!1,quality:t.quality,"zoom-speed":5,"prevent-white-space":""},on:{init:t.onInit},model:{value:t.currentCroppa,callback:function(e){t.currentCroppa=e},expression:"currentCroppa"}},"vue-croppa",t.$attrs,!1)),i("vue-croppa",t._b({staticClass:"mobile-croppa__bg",attrs:{"initial-image":t.src,"show-remove-button":!1,quality:t.quality,"prevent-white-space":"",passive:""},model:{value:t.currentCroppa,callback:function(e){t.currentCroppa=e},expression:"currentCroppa"}},"vue-croppa",t.$attrs,!1)),i("canvas",{ref:"offscreenCanvas",staticClass:"offscreen-canvas"})],1)},et=[],it=(i("b5df"),{}),nt=Object(c["a"])(it,tt,et,!1,null,"f0cf3a3c",null),at=nt.exports,ot=i("1f36"),rt=i.n(ot);function st(t){return st="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ct(t,e,i){return e&&lt(t.prototype,e),i&&lt(t,i),t}function ht(t,e){return!e||"object"!==st(e)&&"function"!==typeof e?pt(t):e}function pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dt(t){return dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},dt(t)}function ft(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mt(t,e)}function mt(t,e){return mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},mt(t,e)}var gt=function(t,e){return function(i,n,a,o,r){i.beginPath(),i.arc(n+o/2,a+r/2,t.width*e/2,0,2*Math.PI,!0),i.closePath()}},vt=function(t,e){var i=t.width,n=t.height,a=i*e,o=n*e;return function(t,e,i,n,r){t.beginPath(),t.rect(e+(n-a)/2,i+(r-o)/2,a,o),t.closePath()}},bt=function(t){function e(){var t;return ut(this,e),t=ht(this,dt(e).apply(this,arguments)),t.currentCroppa={},t}return ft(e,t),ct(e,[{key:"changeSrc",value:function(){this.currentCroppa.refresh&&this.currentCroppa.refresh()}},{key:"created",value:function(){}},{key:"onInit",value:function(){var t=this.currentCropSize,e=this.quality;this.currentCroppa.addClipPlugin&&this.currentCroppa.addClipPlugin(this.round?gt(t,e):vt(t,e))}},{key:"renderOffscreenCanvas",value:function(t){var e=this.$refs.offscreenCanvas,i=e.getContext("2d"),n=this.quality,a=this.currentCropSize,o=a.width,r=a.height;return e.width=o*n,e.height=r*n,i&&(i.clearRect(0,0,o,r),i.drawImage(t,(t.width-o*n)/2,(t.height-r*n)/2,e.width,e.height,0,0,e.width,e.height)),e}},{key:"getOffscreenCanvas",value:function(){return this.renderOffscreenCanvas(this.$refs.topCroppa.$el.querySelector("canvas"))}},{key:"generateDataUrl",value:function(t,e){var i=this.getOffscreenCanvas();return i.toDataURL(t,e)}},{key:"generateBlob",value:function(t,e,i){var n=this.getOffscreenCanvas();return n.toBlob(t,e,i)}},{key:"promisedBlob",value:function(t,e){var i=this;return new Promise((function(n,a){try{i.generateBlob((function(t){n(t)}),t,e)}catch(o){a(o)}}))}},{key:"currentCropSize",get:function(){var t=this.cropSize.split("*").map((function(t){return Number(t)}));return{width:t[0],height:t[1]}}}]),e}(r["a"]);o["a"]([Object(s["c"])({required:!0,type:String})],bt.prototype,"src",void 0),o["a"]([Object(s["c"])({default:2,type:Number})],bt.prototype,"quality",void 0),o["a"]([Object(s["c"])({default:!0,type:Boolean})],bt.prototype,"round",void 0),o["a"]([Object(s["c"])({default:"440*440",type:String})],bt.prototype,"cropSize",void 0),o["a"]([Object(s["e"])("src")],bt.prototype,"changeSrc",null),bt=o["a"]([Object(s["a"])({name:"MobileCroppa",mixins:[at],components:{VueCroppa:rt.a.component}})],bt);var yt=bt,wt=yt;function _t(t){return _t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(t)}function Ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function St(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Dt(t,e,i){return e&&St(t.prototype,e),i&&St(t,i),t}function Et(t,e){return!e||"object"!==_t(e)&&"function"!==typeof e?Pt(t):e}function Pt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ot(t){return Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ot(t)}function It(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xt(t,e)}function xt(t,e){return xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},xt(t,e)}var Ut=function(t){return new Promise((function(e,i){var n=new Image;n.onload=function(){return e(n)},n.onerror=i,n.src=t}))},zt=function(t){function e(){var t;return Ct(this,e),t=Et(this,Ot(e).apply(this,arguments)),t.show=!1,t.type="image/png",t.src="https://zhanziyang.github.io/vue-croppa/static/500.jpeg",t.isInit=!1,t.quality=2,t.width=440,t.height=768,t}return It(e,t),Dt(e,[{key:"created",value:function(){}},{key:"submit",value:function(){var t;return a.a.async((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.resolveFun){e.next=5;break}return e.next=3,a.a.awrap(this.$refs.croppa.promisedBlob(this.type,1));case 3:t=e.sent,t&&(this.resolveFun(t),this.show=!1,delete this.resolveFun,delete this.rejectFun);case 5:case"end":return e.stop()}}),null,this)}},{key:"handleClose",value:function(){this.rejectFun&&this.rejectFun()}},{key:"init",value:function(){var t;return a.a.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(Ut(this.src));case 2:t=e.sent,this.initSize(t),this.initQuality(t),this.isInit=!0;case 6:case"end":return e.stop()}}),null,this)}},{key:"initSize",value:function(t){var e,i,n,o,r,s,u,l,c,h;return a.a.async((function(a){while(1)switch(a.prev=a.next){case 0:e=Math.floor(.9*document.documentElement.clientHeight),i=Math.floor(.7*document.documentElement.clientWidth),n=this.currentCropSize.height,o=this.currentCropSize.width,r=t.width,s=t.height,u=r/s,l=o/n,c=t.width,h=t.height,u>l?(c=o,h=o/u,h<n&&(h=n,c=n*u)):(h=n,c=n*u,c<o&&(c=o,h=o/u)),h>e&&(h=e,c=u*h),c>i&&(c=i,h=c/u),h<n&&(h=n),c<o&&(c=o),this.width=c,this.height=h;case 17:case"end":return a.stop()}}),null,this)}},{key:"initQuality",value:function(t){var e,i,n,o,r,s;return a.a.async((function(a){while(1)switch(a.prev=a.next){case 0:e=t.width,i=t.height,n=this.width,o=this.height,r=e/i,s=n,s=n/e>=o/i?r*o:n/r,this.quality=s/n;case 7:case"end":return a.stop()}}),null,this)}},{key:"crop",value:function(t,e){var i=this;return new Promise((function(n,o){return a.a.async((function(r){while(1)switch(r.prev=r.next){case 0:return i.resolveFun=n,i.rejectFun=o,i.src=t,i.type=e,r.next=6,a.a.awrap(i.init());case 6:i.show=!0;case 7:case"end":return r.stop()}}))}))}},{key:"currentCropSize",get:function(){var t=this.cropSize.split("*").map((function(t){return Number(t)}));return{width:t[0],height:t[1]}}}]),e}(r["a"]);o["a"]([Object(s["c"])({default:"440*440",type:String})],zt.prototype,"cropSize",void 0),zt=o["a"]([Object(s["a"])({name:"CustomImageCrop",mixins:[J],components:{MobileCroppa:wt}})],zt);var Tt=zt,kt=Tt,jt=i("294e"),Nt=i.n(jt),Mt=i("9159"),Ft=i.n(Mt),At=i("fb86"),Ht=i.n(At);function Wt(t){return Wt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(t)}function Rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bt(t,e,i){return e&&qt(t.prototype,e),i&&qt(t,i),t}function Vt(t,e){return!e||"object"!==Wt(e)&&"function"!==typeof e?Lt(t):e}function Lt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $t(t){return $t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$t(t)}function Yt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xt(t,e)}function Xt(t,e){return Xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Xt(t,e)}function Zt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Gt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Zt(i,!0).forEach((function(e){Kt(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Zt(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Kt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Qt(){return fetch("https://api-sy.meimeifa.com/common/qiniu/getToken").then((function(t){return t.json()})).then((function(t){return t.response}))}function Jt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return Math.random().toString(16).slice(2,t+3)}var te=function(){var t,e=null;return function(){var i;return a.a.async((function(n){while(1)switch(n.prev=n.next){case 0:if(i=Date.now(),!(t&&e&&e-i<6e3)){n.next=5;break}return n.abrupt("return",t);case 5:return n.next=7,a.a.awrap(Qt());case 7:return t=n.sent,e=Date.now(),n.abrupt("return",Gt({},t));case 10:case"end":return n.stop()}}))}}(),ee=function(t){function e(){var t;return Rt(this,e),t=Vt(this,$t(e).apply(this,arguments)),t.upload1=[],t.imageUrls=[],t.compressionImageUrl=[],t.unCompressionImageUrl=[],t.actionDemoUrl=[],t.hasNameImageUrls=[],t.qiniuUpHost="https://upload-z2.qiniup.com",t.uploadKey="",t.qiniuConfig=null,t}return Yt(e,t),Bt(e,[{key:"created",value:function(){}},{key:"beforeUpload",value:function(t){return a.a.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(te());case 2:return this.qiniuConfig=e.sent,e.next=5,a.a.awrap(this.uploadQueue());case 5:return this.uploadKey=Jt(20)+t.uid,e.abrupt("return",t);case 7:case"end":return e.stop()}}),null,this)}},{key:"onUploadSuccess",value:function(t){var e=this.qiniuConfig.domain+t.key;return e}},{key:"onCustomCrop",value:function(t){var e,i;return a.a.async((function(n){while(1)switch(n.prev=n.next){case 0:return e="image/png",n.next=3,a.a.awrap(this.$refs.customImageCrop.crop(URL.createObjectURL(t),e));case 3:return i=n.sent,n.abrupt("return",new File([i],t.name,{lastModified:t.lastModified,type:e}));case 5:case"end":return n.stop()}}),null,this)}},{key:"customActions",get:function(){var t=this;return[{icon:Nt.a,command:f["a"].Preview},{icon:Ft.a,command:function(e){t.$alert(e.url||"")}},{icon:Ht.a,command:f["a"].Delete}]}},{key:"currentUploadData",get:function(){return{token:this.qiniuConfig?this.qiniuConfig.token:"",key:this.uploadKey}}},{key:"uploadQueue",get:function(){var t=[],e=!1,i=function(){var i=t.shift();i?(e=!0,i()):e=!1};return function(){return new Promise((function(n){t.push((function(){n(),window.setTimeout(i,100)})),!e&&i()}))}}}]),e}(r["a"]);ee=o["a"]([Object(s["a"])({name:"UploadView",mixins:[d],components:{CustomUpload:X,CustomImageCrop:kt}})],ee);var ie=ee;e["default"]=ie},"6e37":function(t,e,i){},"7d15":function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}t.exports=i},9159:function(t,e){t.exports={name:"share",data:{width:"16",height:"16",viewBox:"0 0 16 16",data:'<g _fill="#595959" fill-rule="nonzero"><path pid="0" d="M14.5 14.5h-13v-13H8v-1H.5v15h15V8h-1z"/><path pid="1" d="M14 2.72L8.86 7.86l-.707-.707L13.305 2H10V1h5v5h-1V2.72zm0 0V1l1 1h-1.695l1-1H15v.72l-1 1z"/></g>'}}},"9f4c":function(t,e,i){"use strict";var n=i("68d7"),a=i.n(n);a.a},b5df:function(t,e,i){"use strict";var n=i("48c4"),a=i.n(n);a.a},f800:function(t,e,i){"use strict";var n=i("1a31"),a=i.n(n);a.a}}]);